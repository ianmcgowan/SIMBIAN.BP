* https://adventofcode.com/2024/day/2
OSREAD LIST FROM 'AOC2.DAT' ELSE ABORT
CONVERT CHAR(10) TO @AM IN LIST
CONVERT ' ' TO @VM IN LIST
*
TOTAL.SAFE=0
FOR F=1 TO DCOUNT(LIST,@AM)
  SAFE=1
  INCREASING=LIST<F,1> < LIST<F,2>
  FOR G=2 TO DCOUNT(LIST<F>,@VM)
    VAL1=LIST<F,G-1>
    VAL2=LIST<F,G>
    DELTA=ABS(VAL2-VAL1)
    IF INCREASING AND VAL2 < VAL1 THEN SAFE=0 ; EXIT
    IF NOT(INCREASING) AND VAL2 > VAL1 THEN SAFE=0 ; EXIT
    IF DELTA < 1 OR DELTA > 3 THEN SAFE=0 ; EXIT
  NEXT G
  IF SAFE=1 THEN TOTAL.SAFE+=1
NEXT F
*
CRT 'Total Safe: ':TOTAL.SAFE
