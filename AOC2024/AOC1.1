* https://adventofcode.com/2024/day/1
OSREAD LIST FROM 'AOC1.DAT' ELSE ABORT
CONVERT CHAR(10) TO @AM IN LIST
CONVERT CHAR(9) TO @VM IN LIST
*
NEW.LIST=''
* SORT BOTH LISTS
FOR LIST.NUM=1 TO 2
  FOR F=1 TO DCOUNT(LIST<LIST.NUM>,@VM)
    VAL=LIST<LIST.NUM,F>
    LOCATE VAL IN NEW.LIST<LIST.NUM> BY 'AR' SETTING POS ELSE NULL
    INS VAL BEFORE NEW.LIST<LIST.NUM,POS>
  NEXT F
NEXT LIST.NUM
*
* CALCULATE SIMILARITY SCORE
TOTAL.SIMILARITY=0
FOR F=1 TO DCOUNT(NEW.LIST<1>,@VM)
  VAL1=NEW.LIST<1,F>
  THIS.SIMILARITY=0
  LOCATE VAL1 IN NEW.LIST<2> BY 'AR' SETTING POS THEN
    FOR G=POS TO DCOUNT(NEW.LIST<2>,@VM)
      VAL2=NEW.LIST<2,G>
      IF VAL1=VAL2 THEN
        THIS.SIMILARITY+=1
      END ELSE
        CONTINUE
      END
    NEXT G
  END
  SCORE=VAL1*THIS.SIMILARITY
  TOTAL.SIMILARITY+=SCORE
NEXT F
CRT 'Total similarity: ':TOTAL.SIMILARITY
